{"version":3,"sources":["../../dev/application.js"],"names":["app","Vue","el","data","isLoading","type","currentMonth","editedProject","editedVolunteer","months","volunteers","methods","getFullAddress","volunteer","address","city","locality","country","postal","newVolunteer","name","deleteVolunteer","removeVolunteer","volunteerID","filter","it","editVolunteer","JSON","parse","stringify","saveVolunteer","_newList","push","sendVolunteer","projects","sort","sortProjects","project","newProject","manager","cost","endsOnCurrentMonth","deleteProject","removeProject","projectID","editProject","saveProject","sendProject","computed","getRoofOfChart","map","a","b","getChartY","fill","index","toFixed","callback","post","then","toCurrency","string","parseFloat","toLocaleString","style","currency","changeType","set","loadData","setMonth","month","get","response","_projects","url","Promise","resolve","reject","_req","XMLHttpRequest","onload","_response","error","open","setRequestHeader","send","window","addEventListener"],"mappings":"gBAAMA,CAAAA,GAAG,CAAG,GAAIC,CAAAA,GAAJ,CAAQ,CAChBC,EAAE,CAAE,MADY,CAEhBC,IAAI,CAAE,CACFC,SAAS,GADP,CAEFC,IAAI,CAAE,QAFJ,CAGFC,YAAY,CAAE,CAHZ,CAIFC,aAAa,CAAE,EAJb,CAKFC,eAAe,CAAE,EALf,CAMFC,MAAM,CAAE,CAAC,EAAD,CANN,CAOFC,UAAU,CAAE,CAAC,EAAD,CAPV,CAFU,CAWhBC,OAAO,CAAE,CACLC,cADK,YACUC,CADV,CACoB,CACrB,gBAAUA,CAAS,CAACC,OAApB,cAAgCD,CAAS,CAACE,IAA1C,cAAmDF,CAAS,CAACG,QAA7D,cAA0EH,CAAS,CAACI,OAApF,cAAgGJ,CAAS,CAACK,MAA1G,CACH,CAHI,CAILC,YAJK,aAIS,CACV,KAAKX,eAAL,CAAuB,CACnBY,IAAI,CAAE,EADa,CAEnBN,OAAO,CAAE,EAFU,CAGnBC,IAAI,CAAE,EAHa,CAInBC,QAAQ,CAAE,EAJS,CAKnBC,OAAO,CAAE,EALU,CAMnBC,MAAM,CAAE,EANW,CAQ1B,CAbI,CAcLG,eAdK,aAcY,YACbC,eAAe,CAAC,KAAKd,eAAL,CAAqBe,WAAtB,CAAmC,UAAM,CACpD,CAAI,CAACb,UAAL,CAAkB,CAAI,CAACA,UAAL,CAAgBc,MAAhB,CAAuB,SAAAC,CAAE,QAAIA,CAAAA,CAAE,CAACF,WAAH,EAAkB,CAAI,CAACf,eAAL,CAAqBe,WAA3C,CAAzB,CACrB,CAFc,CAGlB,CAlBI,CAmBLG,aAnBK,YAmBSH,CAnBT,CAmBqB,CACtB,KAAKf,eAAL,CAAuBmB,IAAI,CAACC,KAAL,CACnBD,IAAI,CAACE,SAAL,CACI,KAAKnB,UAAL,CAAgBc,MAAhB,CAAuB,SAAAC,CAAE,QAAIA,CAAAA,CAAE,CAACF,WAAH,EAAkBA,CAAtB,CAAzB,EAA4D,CAA5D,GAAkE,EADtE,CADmB,CAK1B,CAzBI,CA0BLO,aA1BK,aA0BU,YACX,GAAG,KAAKtB,eAAL,CAAqBe,WAAxB,CAAoC,CAChC,GAAMQ,CAAAA,CAAQ,CAAG,KAAKrB,UAAL,CAAgBc,MAAhB,CAAuB,SAAAC,CAAE,QAAIA,CAAAA,CAAE,CAACF,WAAH,EAAkB,CAAI,CAACf,eAAL,CAAqBe,WAA3C,CAAzB,CAAjB,CACAQ,CAAQ,CAACC,IAAT,CAAcL,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKrB,eAApB,CAAX,CAAd,CAFgC,CAGhCyB,aAAa,CAAC,KAAKzB,eAAN,CAAuB,UAAM,CACtC,CAAI,CAACA,eAAL,CAAuB,EADe,CAEtC,CAAI,CAACC,MAAL,CAAY,CAAI,CAACH,YAAjB,EAA+B4B,QAA/B,CAA0CH,CAAQ,CAACI,IAAT,CAAcC,YAAd,CAC7C,CAHY,CAIhB,CAPD,IAQIH,CAAAA,aAAa,CAAC,KAAKzB,eAAN,CAAuB,SAAC6B,CAAD,CAAa,CAC7C,GAAMN,CAAAA,CAAQ,CAAG,CAAI,CAACrB,UAAtB,CACA,CAAI,CAACF,eAAL,CAAqBe,WAArB,CAAmCc,CAAO,CAACd,WAFE,CAI7CQ,CAAQ,CAACC,IAAT,CAAc,CAAI,CAACxB,eAAnB,CAJ6C,CAM7C,CAAI,CAACA,eAAL,CAAuB,EANsB,CAO7C,CAAI,CAACE,UAAL,CAAkBqB,CAAQ,CAACI,IAAT,CAAcC,YAAd,CACrB,CARY,CAUpB,CA7CI,CA8CLE,UA9CK,aA8CO,CACR,KAAK/B,aAAL,CAAqB,CACjBU,OAAO,CAAE,EADQ,CAEjBsB,OAAO,CAAE,EAFQ,CAGjBlC,IAAI,CAAE,EAHW,CAIjBmC,IAAI,CAAE,CAJW,CAKjBC,kBAAkB,GALD,CAOxB,CAtDI,CAuDLC,aAvDK,aAuDU,YACXC,aAAa,CAAC,KAAKpC,aAAL,CAAmBqC,SAApB,CAA+B,UAAM,CAC9C,CAAI,CAACnC,MAAL,CAAY,CAAI,CAACH,YAAjB,EAA+B4B,QAA/B,CACA,CAAI,CAACzB,MAAL,CAAY,CAAI,CAACH,YAAjB,EACK4B,QADL,CAEKV,MAFL,CAEY,SAAAC,CAAE,QAAIA,CAAAA,CAAE,CAACmB,SAAH,EAAgB,CAAI,CAACrC,aAAL,CAAmBqC,SAAvC,CAFd,CAF8C,CAK9C,CAAI,CAACrC,aAAL,CAAqB,EACxB,CANY,CAOhB,CA/DI,CAgELsC,WAhEK,YAgEOD,CAhEP,CAgEiB,CAClB,KAAKrC,aAAL,CAAqBoB,IAAI,CAACC,KAAL,CACjBD,IAAI,CAACE,SAAL,CACI,KAAKpB,MAAL,CAAY,KAAKH,YAAjB,EACK4B,QADL,CAEKV,MAFL,CAEY,SAAAC,CAAE,QAAIA,CAAAA,CAAE,CAACmB,SAAH,EAAgBA,CAApB,CAFd,EAE6C,CAF7C,GAEmD,EAHvD,CADiB,CAOxB,CAxEI,CAyELE,WAzEK,aAyES,YACV,GAAG,KAAKvC,aAAL,CAAmBqC,SAAtB,CAAgC,CAC5B,GAAMb,CAAAA,CAAQ,CACV,KAAKtB,MAAL,CAAY,KAAKH,YAAjB,EACK4B,QADL,CAEKV,MAFL,CAEY,SAAAC,CAAE,QAAIA,CAAAA,CAAE,CAACmB,SAAH,EAAgB,CAAI,CAACrC,aAAL,CAAmBqC,SAAvC,CAFd,CADJ,CAIAb,CAAQ,CAACC,IAAT,CAAcL,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKtB,aAApB,CAAX,CAAd,CAL4B,CAM5BwC,WAAW,CAAC,KAAKxC,aAAN,CAAqB,UAAM,CAClC,CAAI,CAACA,aAAL,CAAqB,EADa,CAElC,CAAI,CAACE,MAAL,CAAY,CAAI,CAACH,YAAjB,EAA+B4B,QAA/B,CAA0CH,CAAQ,CAACI,IAAT,CAAcC,YAAd,CAC7C,CAHU,CAId,CAVD,IAWIW,CAAAA,WAAW,CAAC,KAAKxC,aAAN,CAAqB,SAAC8B,CAAD,CAAa,CACzC,GAAMN,CAAAA,CAAQ,CAAG,CAAI,CAACtB,MAAL,CAAY,CAAI,CAACH,YAAjB,EAA+B4B,QAAhD,CACA,CAAI,CAAC3B,aAAL,CAAmBqC,SAAnB,CAA+BP,CAAO,CAACO,SAFE,CAIzCb,CAAQ,CAACC,IAAT,CAAc,CAAI,CAACzB,aAAnB,CAJyC,CAMzC,CAAI,CAACA,aAAL,CAAqB,EANoB,CAOzC,CAAI,CAACE,MAAL,CAAY,CAAI,CAACH,YAAjB,EAA+B4B,QAA/B,CAA0CH,CAAQ,CAACI,IAAT,CAAcC,YAAd,CAC7C,CARU,CAUlB,CA/FI,CAXO,CA4GhBY,QAAQ,CAAE,CACNC,cADM,aACU,CACZ,MAAO,CAAC,KAAKxC,MAAL,CAAY,KAAKH,YAAjB,EACK4B,QADL,EACiB,EADlB,EAEMgB,GAFN,CAEU,SAACzB,CAAD,QAAQA,CAAAA,CAAE,CAACe,IAAX,CAFV,EAGML,IAHN,CAGW,SAACgB,CAAD,CAAIC,CAAJ,QAAUA,CAAAA,CAAC,CAAGD,CAAd,CAHX,EAG4B,CAH5B,CAIV,CANK,CAONE,SAPM,aAOK,CACP,MAAO,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAAa,CAAb,EACFC,IADE,CAEC,KAAKL,cAFN,CAGC,CAHD,CAGI,CAHJ,EAKFC,GALE,CAKE,SAACzB,CAAD,CAAK8B,CAAL,QAAe,CAAE9B,CAAE,EAAI8B,CAAK,CAAG,CAAZ,CAAH,CAAqB,GAAtB,EAA4BC,OAA5B,CAAoC,CAApC,EAAyC,GAAxD,CALF,CAMV,CAdK,CA5GM,CAAR,C,CA8HNlC,eAAe,CAAG,SAACC,CAAD,CAAckC,CAAd,QACpBC,CAAAA,IAAI,8BAA+BnC,CAA/B,CAAJ,CAAgDoC,IAAhD,CAAqDF,CAArD,CADoB,C,CAGlBd,aAAa,CAAG,SAACC,CAAD,CAAYa,CAAZ,QAClBC,CAAAA,IAAI,4BAA6B,CAAEd,SAAS,CAATA,CAAF,CAA7B,CAAJ,CAAgDe,IAAhD,CAAqDF,CAArD,CADkB,C,CAGhBV,WAAW,CAAG,SAACV,CAAD,CAAUoB,CAAV,QAChBC,CAAAA,IAAI,0BAA2BrB,CAA3B,CAAJ,CAAwCsB,IAAxC,CAA6CF,CAA7C,CADgB,C,CAGdxB,aAAa,CAAG,SAACpB,CAAD,CAAY4C,CAAZ,QAClBC,CAAAA,IAAI,4BAA6B7C,CAA7B,CAAJ,CAA4C8C,IAA5C,CAAiDF,CAAjD,CADkB,C,CAGhBrB,YAAY,CAAG,SAACe,CAAD,CAAIC,CAAJ,CAAU,OACxBD,CAAAA,CAAC,CAAClC,OAAF,EAAamC,CAAC,CAACnC,OADS,CACOkC,CAAC,CAAC9C,IAAF,CAAS+C,CAAC,CAAC/C,IAAX,CAAkB,CAAlB,CAAsB,CAAC,CAD9B,CAEf8C,CAAC,CAAClC,OAAF,CAAYmC,CAAC,CAACnC,OAAd,CAAwB,CAAxB,CAA4B,CAAC,CAC5C,C,CAEK2C,UAAU,CAAG,SAACC,CAAD,QACfC,CAAAA,UAAU,CAACD,CAAD,CAAV,CACKE,cADL,QAC+B,CACvBC,KAAK,CAAE,UADgB,CAEvBC,QAAQ,CAAE,KAFa,CAD/B,CADe,C,CAObC,UAAU,CAAG,SAAC7D,CAAD,CAAU,CACzBJ,GAAG,CAACkE,GAAJ,CAAQnE,GAAR,CAAa,eAAb,CAA8B,EAA9B,CADyB,CAEzBC,GAAG,CAACkE,GAAJ,CAAQnE,GAAR,CAAa,MAAb,CAAqBK,CAArB,CAFyB,CAGzB+D,QAAQ,CAAC/D,CAAD,CACX,C,CAEKgE,QAAQ,CAAG,SAACC,CAAD,CAAW,CACxBrE,GAAG,CAACkE,GAAJ,CAAQnE,GAAR,CAAa,eAAb,CAA8B,EAA9B,CADwB,CAExBC,GAAG,CAACkE,GAAJ,CAAQnE,GAAR,CAAa,cAAb,CAA6BsE,CAA7B,CACH,C,CAEKF,QAAQ,CAAG,SAAC/D,CAAD,CAAU,CACvBJ,GAAG,CAACkE,GAAJ,CAAQnE,GAAR,CAAa,WAAb,IADuB,CAEvBuE,GAAG,qBAAclE,CAAd,EAAH,CAAyBsD,IAAzB,CAA8B,SAACa,CAAD,CAAa,CAC5B,QAAR,EAAAnE,CADoC,GAEnCmE,CAAQ,CAAGA,CAAQ,CAACtB,GAAT,CAAa,SAAAzB,CAAE,CAAI,CAC1B,GAAMgD,CAAAA,CAAS,CAAG,CAAChD,CAAE,CAACS,QAAH,EAAe,EAAhB,EAAoBC,IAApB,CAAyBC,YAAzB,CAAlB,CAEA,MADAX,CAAAA,CAAE,CAACS,QAAH,CAAcuC,CACd,CAAOhD,CACV,CAJU,CAFwB,EAOvCxB,GAAG,CAACkE,GAAJ,CAAQnE,GAAR,CAAaK,CAAb,CAAmBmE,CAAnB,CAPuC,CAQvCvE,GAAG,CAACkE,GAAJ,CAAQnE,GAAR,CAAa,WAAb,IACH,CATD,CAUH,C,CAEK0D,IAAI,CAAG,SAACgB,CAAD,CAAMvE,CAAN,QAAe,IAAIwE,CAAAA,OAAJ,CAAY,SAACC,CAAD,CAAUC,CAAV,CAAqB,CACzD,GAAMC,CAAAA,CAAI,CAAG,GAAIC,CAAAA,cAAjB,CACAD,CAAI,CAACE,MAAL,CAAc,UAAM,CAChB,GAAMC,CAAAA,CAAS,CAAGtD,IAAI,CAACC,KAAL,CAAWkD,CAAI,CAACN,QAAhB,CAAlB,CACGS,CAAS,CAACC,KAFG,CAEIL,CAAM,CAACI,CAAD,CAFV,CAGXL,CAAO,CAACK,CAAD,CACf,CANwD,CAOzDH,CAAI,CAACK,IAAL,CAAU,MAAV,CAAkBT,CAAlB,CAPyD,CAQzDI,CAAI,CAACM,gBAAL,CAAsB,cAAtB,CAAsC,gCAAtC,CARyD,CASzDN,CAAI,CAACO,IAAL,CAAU1D,IAAI,CAACE,SAAL,CAAe1B,CAAf,CAAV,CACH,CAV2B,CAAf,C,CAYPoE,GAAG,CAAG,SAACG,CAAD,QAAS,IAAIC,CAAAA,OAAJ,CAAY,SAACC,CAAD,CAAUC,CAAV,CAAqB,CAClD,GAAMC,CAAAA,CAAI,CAAG,GAAIC,CAAAA,cAAjB,CACAD,CAAI,CAACE,MAAL,CAAc,UAAM,CAChB,GAAMC,CAAAA,CAAS,CAAGtD,IAAI,CAACC,KAAL,CAAWkD,CAAI,CAACN,QAAhB,CAAlB,CACGS,CAAS,CAACC,KAFG,CAEIL,CAAM,CAACI,CAAD,CAFV,CAGXL,CAAO,CAACK,CAAD,CACf,CANiD,CAOlDH,CAAI,CAACK,IAAL,CAAU,KAAV,CAAiBT,CAAjB,CAPkD,CAQlDI,CAAI,CAACM,gBAAL,CAAsB,cAAtB,CAAsC,gCAAtC,CARkD,CASlDN,CAAI,CAACO,IAAL,EACH,CAVoB,CAAT,C,CAYZC,MAAM,CAACC,gBAAP,CAAwB,MAAxB,CAAgC,UAAI,CAChCnB,QAAQ,CAAC,QAAD,CACX,CAFD,C","sourcesContent":["const app = new Vue({\r\n    el: \"#app\",\r\n    data: {\r\n        isLoading: true,\r\n        type: \"months\",\r\n        currentMonth: 0,\r\n        editedProject: {},\r\n        editedVolunteer: {},\r\n        months: [{}],\r\n        volunteers: [{}]\r\n    },\r\n    methods: {\r\n        getFullAddress(volunteer){\r\n            return `${volunteer.address}, ${volunteer.city}, ${volunteer.locality}, ${volunteer.country}, ${volunteer.postal}`;\r\n        },\r\n        newVolunteer(){\r\n            this.editedVolunteer = {\r\n                name: \"\",\r\n                address: \"\",\r\n                city: \"\",\r\n                locality: \"\",\r\n                country: \"\",\r\n                postal: \"\"\r\n            }\r\n        },\r\n        deleteVolunteer(){\r\n            removeVolunteer(this.editedVolunteer.volunteerID, () => {\r\n                this.volunteers = this.volunteers.filter(it => it.volunteerID != this.editedVolunteer.volunteerID)\r\n            })\r\n        },\r\n        editVolunteer(volunteerID){\r\n            this.editedVolunteer = JSON.parse(\r\n                JSON.stringify(\r\n                    this.volunteers.filter(it => it.volunteerID == volunteerID)[0] || {}\r\n                )\r\n            );\r\n        },\r\n        saveVolunteer(){\r\n            if(this.editedVolunteer.volunteerID){\r\n                const _newList = this.volunteers.filter(it => it.volunteerID != this.editedVolunteer.volunteerID);\r\n                _newList.push(JSON.parse(JSON.stringify(this.editedVolunteer)));\r\n                sendVolunteer(this.editedVolunteer, () => {\r\n                    this.editedVolunteer = {};\r\n                    this.months[this.currentMonth].projects = _newList.sort(sortProjects);\r\n                });\r\n            } else {\r\n                sendVolunteer(this.editedVolunteer, (project) => {\r\n                    const _newList = this.volunteers;\r\n                    this.editedVolunteer.volunteerID = project.volunteerID;\r\n\r\n                    _newList.push(this.editedVolunteer);\r\n                    \r\n                    this.editedVolunteer = {};\r\n                    this.volunteers = _newList.sort(sortProjects);\r\n                });\r\n            }\r\n        },\r\n        newProject(){\r\n            this.editedProject = {\r\n                country: \"\",\r\n                manager: \"\",\r\n                type: \"\",\r\n                cost: 0,\r\n                endsOnCurrentMonth: false\r\n            }\r\n        },\r\n        deleteProject(){\r\n            removeProject(this.editedProject.projectID, () => {\r\n                this.months[this.currentMonth].projects = \r\n                this.months[this.currentMonth]\r\n                    .projects\r\n                    .filter(it => it.projectID != this.editedProject.projectID);\r\n                this.editedProject = {};\r\n            })\r\n        },\r\n        editProject(projectID){\r\n            this.editedProject = JSON.parse(\r\n                JSON.stringify(\r\n                    this.months[this.currentMonth]\r\n                        .projects\r\n                        .filter(it => it.projectID == projectID)[0] || {}\r\n                )\r\n            );\r\n        },\r\n        saveProject() {\r\n            if(this.editedProject.projectID){\r\n                const _newList =\r\n                    this.months[this.currentMonth]\r\n                        .projects\r\n                        .filter(it => it.projectID != this.editedProject.projectID);\r\n                _newList.push(JSON.parse(JSON.stringify(this.editedProject)));\r\n                sendProject(this.editedProject, () => {\r\n                    this.editedProject = {};\r\n                    this.months[this.currentMonth].projects = _newList.sort(sortProjects);\r\n                });\r\n            } else {\r\n                sendProject(this.editedProject, (project) => {\r\n                    const _newList = this.months[this.currentMonth].projects\r\n                    this.editedProject.projectID = project.projectID;\r\n\r\n                    _newList.push(this.editedProject);\r\n                    \r\n                    this.editedProject = {};\r\n                    this.months[this.currentMonth].projects = _newList.sort(sortProjects);\r\n                });\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        getRoofOfChart(){\r\n            return (this.months[this.currentMonth]\r\n                        .projects || [])\r\n                        .map((it) => it.cost)\r\n                        .sort((a, b) => b - a)[0];\r\n        },\r\n        getChartY(){\r\n            return [0, 0, 0, 0, 0]\r\n                .fill(\r\n                    this.getRoofOfChart, \r\n                    0, 4\r\n                )\r\n                .map((it, index) => ((it / (index + 1)) / 1000).toFixed(2) + \"k\");\r\n        }\r\n    }\r\n});\r\n\r\nconst removeVolunteer = (volunteerID, callback) => \r\n    post(`/api/data/remove/volunteer`, volunteerID).then(callback);\r\n\r\nconst removeProject = (projectID, callback) => \r\n    post(`/api/data/remove/project`, { projectID }).then(callback);\r\n\r\nconst sendProject = (project, callback) => \r\n    post(`/api/data/edit/project`, project).then(callback);\r\n\r\nconst sendVolunteer = (volunteer, callback) => \r\n    post(`/api/data/edit/volunteer`, volunteer).then(callback);\r\n\r\nconst sortProjects = (a, b) => {\r\n    if(a.country == b.country) return a.type > b.type ? 1 : -1;\r\n    else return a.country > b.country ? 1 : -1;\r\n};\r\n\r\nconst toCurrency = (string) => \r\n    parseFloat(string)\r\n        .toLocaleString(undefined, { \r\n            style: \"currency\", \r\n            currency: \"USD\" \r\n        });\r\n\r\nconst changeType = (type) => {\r\n    Vue.set(app, \"editedProject\", {});\r\n    Vue.set(app, \"type\", type);\r\n    loadData(type);\r\n}\r\n\r\nconst setMonth = (month) => {\r\n    Vue.set(app, \"editedProject\", {});\r\n    Vue.set(app, \"currentMonth\", month);\r\n}\r\n\r\nconst loadData = (type) => {\r\n    Vue.set(app, \"isLoading\", true);\r\n    get(`/api/data/${type}`).then((response)=> {\r\n        if(type == 'months')\r\n            response = response.map(it => {\r\n                const _projects = (it.projects || []).sort(sortProjects);\r\n                it.projects = _projects;\r\n                return it;\r\n            });\r\n        Vue.set(app, type, response)\r\n        Vue.set(app, \"isLoading\", false);\r\n    });\r\n}\r\n\r\nconst post = (url, data) => new Promise((resolve, reject) => {\r\n    const _req = new XMLHttpRequest();\r\n    _req.onload = () => {\r\n        const _response = JSON.parse(_req.response);\r\n        if(_response.error) reject(_response);\r\n        else resolve(_response);\r\n    };\r\n    _req.open(\"POST\", url);\r\n    _req.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n    _req.send(JSON.stringify(data));\r\n});\r\n\r\nconst get = (url) => new Promise((resolve, reject) => {\r\n    const _req = new XMLHttpRequest();\r\n    _req.onload = () => {\r\n        const _response = JSON.parse(_req.response);\r\n        if(_response.error) reject(_response);\r\n        else resolve(_response);\r\n    };\r\n    _req.open(\"GET\", url);\r\n    _req.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n    _req.send();\r\n});\r\n\r\nwindow.addEventListener(\"load\", ()=>{\r\n    loadData(\"months\");\r\n})"],"file":"application.js"}